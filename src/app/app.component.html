<ng-template #loading>
  <router-outlet></router-outlet>
</ng-template>

<ng-template [ngIf]="!login" [ngIfElse]="loading">
  <div class="chat">
    <div class="user-box">

    </div>
      <div class="online-box">
        <div class="online-header"><strong>Online</strong></div>
        <ul class="list online-list">
          <li class="online-user" *ngFor="let user of users">
            <strong>{{ user }}</strong>
          </li>
        </ul>
      </div>
      <div class="chat-body">
        <div class="chat-content" #mbox>
          <div class="message" *ngFor="let message of messages">
              <div class="message-info">
                <span class="message-time"> {{ message.date | date:'h:mm' }}</span>
                <span class="message-name">{{ message.nick }}:</span>
              </div>
              <p class="message-text" [innerHTML]="message.text"></p>
          </div>
        </div>

        <div class="chat-controls">
          <form class="chat-form" [formGroup]="chatForm" (submit)="sendMessage()">
            <textarea type="text" formControlName="text" (keydown)="enterTextarea($event)"></textarea>
            <button class="btn" type="submit">Send</button>
          </form>
        </div>
      </div>
  </div>
</ng-template>
